 <div class="row">
    <button type="button" class="btn btn-secondary btn-sm" (click)="dialog.showModal()">
      <i class="fa fa-bookmark" aria-hidden="true"></i> Creation visite
    </button>
  </div>

  <div class="row">
    <table class="table table-striped table-hover table-sm">
      <thead>
        <tr>
          <th scope="col">Date debut Visite</th>
          <th scope="col">Status</th>
          <!-- <th scope="col"></th> -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let l of list">
          <td>{{l['date_debut'] | date: 'dd/MM/yyyy'}} </td>
          <td>
            <span
              [ngClass]="{'badge badge-pill badge-primary': l['etat'] == 0 , 'badge badge-pill badge-warning': l['etat'] == 1 , 'badge badge-pill badge-success': l['etat'] == 2 }">
              {{ l['etat'] == 0 ? 'En cours' : (l['etat']== 1 ? 'Terminé non payé' : 'Terminé payé' ) }}
            </span>
          </td>
          <td>
            <button type="button" class="btn btn-success btn-sm btn-valider"
              (click)="dialog_update_visite.showModal() ">
              <i class="fa fa-edit" aria-hidden="true"></i> Modifier
            </button>

            <button type="button" class="btn btn-info btn-sm btn-valider" (click)="this.emitVisite.emit(l)">
              <i class="fa fa-wrench" aria-hidden="true"  ></i> Reparation
            </button>

          </td>
        </tr>
      </tbody>
    </table>

  </div>
<div>
  <dialog #dialog>
    <header>
      <div class="title">Creation visite</div>
      <span class="close-btn" (click)="dialog.close()"> ✖ </span>
    </header>
    <span class="center">
      Voulez-vous creer une visite pour la voiture {{numero}} ?
    </span>
    <div class="center">
      <button class="btn btn-success btn-sm" type="submit" (click)="dialog.close() ; creervisite()">Ok</button>
      <span style="margin-right: 10px;"></span>
      <button class="btn btn-danger btn-sm" (click)="dialog.close()">Annuler</button>
    </div>
  </dialog>
</div>

<div>
  <dialog #dialog_update_visite>
    <header>
      <div class="title">Creation visite</div>
      <span class="close-btn" (click)="dialog_update_visite.close()"> ✖ </span>
    </header>
    <span class="center">
      Voulez-vous creer une visite pour la voiture {{numero}} ?
    </span>
    <div class="center">
      <button class="btn btn-success btn-sm" type="submit" (click)="dialog_update_visite.close() ; creervisite()">Ok</button>
      <span style="margin-right: 10px;"></span>
      <button class="btn btn-danger btn-sm" (click)="dialog_update_visite.close()">Annuler</button>
    </div>
  </dialog>
</div>


